<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Generador de Horarios - Ingeniería Industrial</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gray-50 text-gray-800">
  <div class="min-h-screen p-6 max-w-7xl mx-auto">
    <header class="mb-6">
      <div class="rounded-xl bg-white p-6 shadow flex items-center gap-4">
        <div class="w-14 h-14 rounded-full bg-gradient-to-br from-blue-700 to-teal-500 flex items-center justify-center text-white text-xl font-bold">II</div>
        <div>
          <h1 class="text-2xl font-semibold">Generador de Horarios — Ingeniería Industrial</h1>
          <p class="text-sm text-gray-500">Interfaz web mínima, visual y exportable. Mantiene la lógica original del generador Python.</p>
        </div>
      </div>
    </header>

    <main class="grid grid-cols-12 gap-6">
      <section class="col-span-4">
        <div class="rounded-xl bg-white p-4 shadow space-y-4">
          <h2 class="text-lg font-medium">1. Semestres</h2>
          <div id="semestres-container" class="space-y-2 max-h-48 overflow-auto"></div>
          <div id="plan-upload" class="text-sm text-gray-500 hidden">
            <p>Si no ves semestres, puedes <button id="btn-upload-plan" class="btn-primary">subir plan_estudios.json</button></p>
            <input id="file-plan" type="file" accept=".json" class="hidden" />
          </div>

          <div class="flex gap-2 mt-2 items-center">
            <div class="text-sm text-gray-600">Créditos agregados:</div>
            <div id="credits-added" class="ml-auto font-semibold text-lg">0</div>
          </div>
          <div class="flex gap-2 mt-1 items-center">
            <div class="text-sm text-gray-600">Créditos seleccionados (temporal):</div>
            <div id="credits-checked" class="ml-auto font-semibold text-lg">0</div>
          </div>

          <h2 class="text-lg font-medium mt-4">2. Cursos disponibles</h2>
          <div class="border rounded p-2 max-h-48 overflow-auto bg-gray-50" id="cursos-container"></div>
          <div class="flex gap-2 mt-2">
            <button id="btn-add-cursos" class="btn-primary flex-1">Agregar seleccionados</button>
            <button id="btn-load-sample" class="btn-primary flex-1">Cargar ejemplo</button>
          </div>

          <h2 class="text-lg font-medium mt-4">3. Guardar / Cargar</h2>
          <div class="flex gap-2">
            <button id="btn-export-json" class="btn-primary flex-1">Exportar JSON</button>
            <input id="import-json" type="file" accept=".json" class="hidden">
            <button id="btn-import-json" class="btn-primary">Importar</button>
          </div>
          <div class="flex gap-2 mt-2">
            <button id="btn-export-png" class="btn-primary flex-1">Exportar Imagen (horario)</button>
            <button id="btn-export-pdf" class="btn-primary flex-1">Exportar PDF</button>
          </div>
        </div>

        <div class="rounded-xl bg-white p-4 shadow mt-4">
          <h2 class="text-lg font-medium">Combinaciones</h2>
          <div id="combinaciones-info" class="text-sm text-gray-600">No se han generado combinaciones.</div>
          <div id="combinaciones-list" class="max-h-48 overflow-auto mt-2 space-y-2"></div>
          <div class="flex gap-2 mt-3">
            <button id="btn-generar" class="btn-primary flex-1">Generar combinaciones</button>
            <button id="btn-preview-selected" class="btn-primary flex-1">Previsualizar seleccionadas</button>
          </div>
        </div>
      </section>

      <section class="col-span-8">
        <div class="rounded-xl bg-white p-4 shadow">
          <h2 class="text-lg font-medium">Configuración de cursos y grupos</h2>
          <div id="config-cursos" class="mt-3 space-y-4"></div>
        </div>

        <div class="rounded-xl bg-white p-4 shadow mt-6">
          <h2 class="text-lg font-medium">Previsualización</h2>
          <div id="preview-area" class="mt-3">
            <div id="schedule-canvas" class="rounded-lg border bg-white p-4"></div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script id="plan-data" type="application/json">{"Primer Año - Primer Semestre": {"1701102": {"nombre": "RAZONAMIENTO LOGICO MATEMATICO", "creditos": 3}, "1701103": {"nombre": "MATEMATICA BASICA", "creditos": 4}, "1701104": {"nombre": "CALCULO 1", "creditos": 5}, "1701105": {"nombre": "QUIMICA GENERAL", "creditos": 4}, "1701106": {"nombre": "DIBUJO EN INGENIERIA", "creditos": 3}, "1701121": {"nombre": "METODOLOGIA DEL TRABAJO INTELECTUAL UNIVERSITARIO", "creditos": 2}, "1701122": {"nombre": "INTRODUCCION A LA INGENIERIA INDUSTRIAL", "creditos": 3}}, "Primer Año - Segundo Semestre": {"1701208": {"nombre": "REALIDAD NACIONAL", "creditos": 2}, "1701210": {"nombre": "CALCULO 2", "creditos": 5}, "1701211": {"nombre": "FISICA 1", "creditos": 4}, "1701212": {"nombre": "QUIMICA ORGANICA", "creditos": 4}, "1701213": {"nombre": "GEOMETRIA DESCRIPTIVA", "creditos": 3}, "1701223": {"nombre": "COMUNICACION INTEGRAL", "creditos": 3}}, "Segundo Año - Primer Semestre": {"1702114": {"nombre": "CIUDADANIA E INTERCULTURALIDAD", "creditos": 2}, "1702115": {"nombre": "ECONOMIA EN INGENIERIA", "creditos": 3}, "1702116": {"nombre": "FISICOQUIMICA", "creditos": 3}, "1702117": {"nombre": "FISICA 2", "creditos": 4}, "1702118": {"nombre": "ECUACIONES DIFERENCIALES", "creditos": 4}, "1702119": {"nombre": "ESTATICA Y RESISTENCIA DE MATERIALES", "creditos": 3}, "1702120": {"nombre": "PROGRAMACION Y METODOS NUMERICOS", "creditos": 3}}, "Segundo Año - Segundo Semestre": {"1702224": {"nombre": "INGLES", "creditos": 3}, "1702225": {"nombre": "PSICOLOGIA ORGANIZACIONAL", "creditos": 4}, "1702226": {"nombre": "ECOLOGIA Y CONSERVACION AMBIENTAL", "creditos": 2}, "1702227": {"nombre": "ANALISIS DE DATOS 1", "creditos": 4}, "1702228": {"nombre": "TERMODINAMICA", "creditos": 4}, "1702229": {"nombre": "ELECTRICIDAD Y ELECTRONICA INDUSTRIAL", "creditos": 3}, "1702230": {"nombre": "INGENIERIA FINANCIERA 1", "creditos": 4}}, "Tercer Año - Primer Semestre": {"1703131": {"nombre": "INTRODUCCION A LA METODOLOGIA DE LA INVESTIGACION CIENTIFICA", "creditos": 3}, "1703132": {"nombre": "ANALISIS DE DATOS 2", "creditos": 3}, "1703133": {"nombre": "INGENIERIA ECONOMICA", "creditos": 3}, "1703134": {"nombre": "INGENIERIA DE METODOS 1", "creditos": 4}, "1703135": {"nombre": "CONTROL DE PROCESOS", "creditos": 3}, "1703136": {"nombre": "INGENIERIA DE COSTOS Y PRESUPUESTOS", "creditos": 4}, "1703137": {"nombre": "OPERACIONES UNITARIAS", "creditos": 4}}, "Tercer Año - Segundo Semestre": {"1703238": {"nombre": "INVESTIGACION OPERATIVA 1", "creditos": 4}, "1703239": {"nombre": "INGENIERIA DE METODOS 2", "creditos": 4}, "1703240": {"nombre": "PROCESOS DE MANUFACTURA", "creditos": 4}, "1703241": {"nombre": "INGENIERIA DE SEGURIDAD", "creditos": 4}, "1703242": {"nombre": "INGENIERIA DE PRODUCCION", "creditos": 4}, "1703243": {"nombre": "INGENIERIA FINANCIERA 2", "creditos": 4}, "1703244": {"nombre": "INGENIERIA DE MATERIALES (E)", "creditos": 3}, "1703245": {"nombre": "DISENO INDUSTRIAL (E)", "creditos": 3}}, "Cuarto Año - Primer Semestre": {"1704146": {"nombre": "GESTION DEL TALENTO HUMANO", "creditos": 3}, "1704147": {"nombre": "ANALISIS E INVESTIGACION DE MERCADO", "creditos": 4}, "1704148": {"nombre": "INVESTIGACION OPERATIVA 2", "creditos": 4}, "1704149": {"nombre": "SISTEMAS DE INFORMACION", "creditos": 4}, "1704150": {"nombre": "EMPRENDIMIENTO E INNOVACION (E)", "creditos": 3}, "1704151": {"nombre": "INGENIERIA ERGONOMICA (E)", "creditos": 3}, "1704152": {"nombre": "GESTION DE OPERACIONES (E)", "creditos": 3}, "1704173": {"nombre": "ETICA GENERAL Y PROFESIONAL", "creditos": 2}}, "Cuarto Año - Segundo Semestre": {"1704253": {"nombre": "FORMULACION Y EVALUACION DE PROYECTOS", "creditos": 4}, "1704254": {"nombre": "AUTOMATIZACION INDUSTRIAL", "creditos": 4}, "1704255": {"nombre": "GERENCIA DE MARKETING", "creditos": 4}, "1704256": {"nombre": "INGENIERIA DE MANTENIMIENTO", "creditos": 4}, "1704257": {"nombre": "SISTEMAS DE GESTION DE LA CALIDAD (E)", "creditos": 3}, "1704258": {"nombre": "LEGISLACION LABORAL Y TRIBUTARIA (E)", "creditos": 3}, "1704259": {"nombre": "GESTION AMBIENTAL (E)", "creditos": 2}}, "Quinto Año - Primer Semestre": {"1705160": {"nombre": "ADMINISTRACION ESTRATEGICA", "creditos": 4}, "1705161": {"nombre": "INGENIERIA DEL PRODUCTO", "creditos": 4}, "1705162": {"nombre": "LOGISTICA INDUSTRIAL", "creditos": 4}, "1705163": {"nombre": "SIMULACION DE SISTEMAS", "creditos": 3}, "1705165": {"nombre": "GESTION DE PROYECTOS (E)", "creditos": 2}, "1705166": {"nombre": "SISTEMAS INTELIGENTES (E)", "creditos": 2}}, "Quinto Año - Segundo Semestre": {"1705267": {"nombre": "SEMINARIO DE TESIS", "creditos": 5}, "1705268": {"nombre": "PRACTICAS PRE PROFESIONALES", "creditos": 6}, "1705269": {"nombre": "INDUSTRIA TEXTIL Y CONFECCIONES (E)", "creditos": 2}, "1705270": {"nombre": "COMERCIO INTERNACIONAL (E)", "creditos": 2}, "1705271": {"nombre": "PROYECTOS DE INVERSION PUBLICA (E)", "creditos": 2}, "1705272": {"nombre": "AGRONEGOCIOS (E)", "creditos": 2}}}</script>
<script src="app.js"></script>
</body>
</html>
